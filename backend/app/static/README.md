# HeatLink 新闻源测试工具

这个工具提供了一个用户友好的界面，用于测试HeatLink系统中的新闻数据源。

## 功能

- 查看所有可用的新闻源
- 测试单个新闻源的可用性和性能
- 批量测试所有新闻源
- 查看详细的测试结果和统计信息
- 检查和比较不同数据源的数据格式

## 访问方式

有多种方式可以访问这个工具：

1. 通过Web界面：
   - 测试工具：`/static/source_test.html`
   - 格式检查器：`/static/format_checker.html`

2. 通过API：
   - 获取所有源类型：`GET /api/source-test/source-types`
   - 测试单个源：`GET /api/source-test/test-source/{source_type}?timeout=60`
   - 测试所有源：`GET /api/source-test/test-all-sources?timeout=60&max_concurrent=5`
   - 获取源样本数据：`GET /api/source-test/sample/{source_type}?limit=5&timeout=60`
   - 比较多个源的格式：`GET /api/source-test/compare-formats?sources=source1,source2&timeout=60`

> **注意**：所有API端点都是公开的，不需要认证。如果您需要限制访问，请在应用程序配置中设置适当的认证机制。

## API文档

完整的API文档可以在以下位置找到：
- Swagger UI: `/api/docs`
- ReDoc: `/api/redoc`

## 使用说明

### 测试工具

1. 在左侧面板中，您可以看到所有可用的新闻源列表
2. 使用过滤框可以快速查找特定的源
3. 点击源名称或"测试"按钮可以测试单个源
4. 在"测试所有源"面板中，您可以设置超时时间和最大并发数，然后点击"测试所有源"按钮
5. 测试结果将显示在右侧面板中

### 格式检查器

1. 在左侧面板中，您可以看到所有可用的新闻源列表
2. 使用过滤框可以快速查找特定的源
3. 点击源名称可以选择/取消选择源
4. 设置超时时间，然后点击"比较格式"按钮
5. 比较结果将显示在右侧面板中，包括：
   - 字段比较：显示每个源的字段及其类型
   - 样本数据：显示每个源的样本数据
   - 摘要：显示格式一致性的摘要和建议

### 测试结果说明

测试结果包括以下信息：

- **单个源测试**：
  - 源类型
  - 成功/失败状态
  - 获取的新闻条目数量
  - 执行时间

- **所有源测试**：
  - 摘要（总源数、成功数、失败数、成功率、总耗时）
  - 成功源列表（包括源类型、新闻条目数量、执行时间）
  - 失败源列表（包括源类型、错误信息）

## 故障排除

如果遇到问题，请检查：

1. 确保您有权限访问API（某些端点可能需要管理员权限）
2. 检查网络连接
3. 查看浏览器控制台是否有错误信息
4. 检查服务器日志获取更多详细信息 