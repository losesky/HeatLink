# 更新日志

## [新增] 数据源格式检查器 - 2023-03-18

### 新增功能

- **API端点**:
  - `GET /api/source-test/sample/{source_type}` - 获取单个数据源的样本数据
  - `GET /api/source-test/compare-formats` - 比较多个数据源的数据格式

- **Web界面**:
  - 添加了格式检查器页面，用于检查和比较不同数据源的数据格式
  - 支持选择多个源进行比较
  - 显示字段比较、样本数据和格式一致性摘要
  - 提供格式标准化建议

- **其他改进**:
  - 更新了文档，添加了关于格式检查器的说明
  - 添加了主页链接，方便访问格式检查器

## [修复] 新闻源测试工具 - 2023-03-17

### 修复问题

- **认证问题**:
  - 移除了API端点的认证要求，使其可以公开访问
  - 更新了文档，说明API端点是公开的

- **用户体验改进**:
  - 添加了全局加载指示器，提供更好的视觉反馈
  - 改进了错误处理和用户反馈
  - 添加了"重试"按钮，方便用户在加载失败时重试

## [新增] 新闻源测试工具 - 2023-03-16

### 新增功能

- **API端点**:
  - `GET /api/source-test/source-types` - 获取所有可用的新闻源类型
  - `GET /api/source-test/test-source/{source_type}` - 测试单个新闻源
  - `POST /api/source-test/test-source` - 测试单个新闻源（通过POST请求）
  - `GET /api/source-test/test-all-sources` - 测试所有新闻源
  - `POST /api/source-test/test-all-sources` - 测试所有新闻源（通过POST请求）

- **Web界面**:
  - 添加了用户友好的Web界面，用于测试新闻源
  - 支持过滤和搜索特定的新闻源
  - 显示详细的测试结果和统计信息
  - 支持设置超时时间和最大并发数

- **其他改进**:
  - 添加了静态文件服务，支持访问Web界面
  - 添加了详细的文档和使用说明
  - 优化了资源管理，确保测试后正确关闭连接

### 技术细节

- 将原有的`test_sources_report.py`脚本功能整合到FastAPI应用程序中
- 使用异步编程模型，支持高效的并发测试
- 添加了错误处理和资源清理机制
- 使用Bootstrap构建响应式Web界面
- 添加了API文档支持（Swagger UI和ReDoc） 